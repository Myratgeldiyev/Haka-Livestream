import { Pressable, StyleSheet, Text, View } from 'react-native'

import Svg, { Path } from 'react-native-svg'

const Radio = ({ checked, color }: { checked: boolean; color: string }) => (
	<View style={[styles.radio, checked && { borderColor: color }]}>
		{checked && (
			<View style={[styles.radioInner, { backgroundColor: color }]} />
		)}
	</View>
)

const MaleIcon = () => (
	<Svg width={24} height={24} viewBox='0 0 24 24' fill='none'>
		<Path
			d='M14.4749 0V3.34164H18.1219L13.3147 8.1168C11.9658 7.2439 10.358 6.73734 8.6317 6.73734C3.8648 6.73734 0 10.6014 0 15.3683C-1.99999e-05 20.1352 3.8648 24 8.6317 24C13.3986 24 17.2627 20.1352 17.2627 15.3683C17.2627 13.5564 16.7046 11.8749 15.7506 10.4865L20.4771 5.76006V9.375H23.8187C23.8187 6.4455 23.8504 2.92188 23.8499 0H14.4749ZM8.6317 10.2115C11.4799 10.2115 13.7885 12.52 13.7885 15.3683C13.7885 18.2165 11.4799 20.5258 8.6317 20.5258C5.78346 20.5258 3.47414 18.2165 3.47414 15.3683C3.47414 12.52 5.78344 10.2115 8.6317 10.2115Z'
			fill='#5F22D9'
		/>
	</Svg>
)

const FemaleIcon = () => (
	<Svg width={20} height={20} viewBox='0 0 20 20' fill='none'>
		<Path
			fillRule='evenodd'
			clipRule='evenodd'
			d='M4.0872 7.49907C4.08741 5.80647 4.66016 4.1637 5.71231 2.83786C6.76446 1.51201 8.23416 0.581049 9.88245 0.196321C11.5307 -0.188407 13.2607 -0.00427473 14.7911 0.718782C16.3215 1.44184 17.5623 2.6613 18.3118 4.17891C19.0613 5.69652 19.2754 7.42303 18.9194 9.07775C18.5633 10.7325 17.658 12.2181 16.3506 13.2931C15.0432 14.3681 13.4106 14.9693 11.7183 14.9989C10.026 15.0284 8.37337 14.4847 7.0292 13.4561L5.2412 15.2431L6.6672 16.6691C6.76271 16.7613 6.83889 16.8717 6.8913 16.9937C6.94371 17.1157 6.9713 17.2469 6.97245 17.3797C6.97361 17.5124 6.94831 17.6441 6.89802 17.767C6.84774 17.8899 6.77349 18.0016 6.6796 18.0955C6.5857 18.1894 6.47405 18.2636 6.35116 18.3139C6.22826 18.3642 6.09658 18.3895 5.9638 18.3883C5.83102 18.3872 5.6998 18.3596 5.5778 18.3072C5.45579 18.2548 5.34545 18.1786 5.2532 18.0831L3.8272 16.6581L1.7072 18.7781C1.51956 18.9656 1.26512 19.0709 0.999849 19.0708C0.734579 19.0707 0.480211 18.9652 0.292703 18.7776C0.105195 18.5899 -9.37028e-05 18.3355 6.25739e-08 18.0702C9.3828e-05 17.8049 0.105562 17.5506 0.293203 17.3631L2.4132 15.2431L1.0102 13.8401C0.914693 13.7478 0.83851 13.6375 0.786101 13.5155C0.733692 13.3935 0.706106 13.2622 0.704952 13.1295C0.703798 12.9967 0.7291 12.865 0.779381 12.7421C0.829662 12.6192 0.903915 12.5076 0.997808 12.4137C1.0917 12.3198 1.20335 12.2455 1.32625 12.1952C1.44915 12.145 1.58082 12.1197 1.7136 12.1208C1.84638 12.122 1.9776 12.1496 2.09961 12.202C2.22161 12.2544 2.33196 12.3306 2.4242 12.4261L3.8272 13.8291L5.6172 12.0391C4.62259 10.7348 4.08492 9.13933 4.0872 7.49907ZM11.5872 1.99907C10.1285 1.99907 8.72956 2.57853 7.69811 3.60998C6.66667 4.64143 6.0872 6.04038 6.0872 7.49907C6.0872 8.95776 6.66667 10.3567 7.69811 11.3882C8.72956 12.4196 10.1285 12.9991 11.5872 12.9991C13.0459 12.9991 14.4448 12.4196 15.4763 11.3882C16.5077 10.3567 17.0872 8.95776 17.0872 7.49907C17.0872 6.04038 16.5077 4.64143 15.4763 3.60998C14.4448 2.57853 13.0459 1.99907 11.5872 1.99907Z'
			fill='#F9467D'
		/>
	</Svg>
)

const PreferIcon = () => (
	<Svg width={18} height={24} viewBox='0 0 18 24' fill='none'>
		<Path
			fillRule='evenodd'
			clipRule='evenodd'
			d='M9.91301 1.28571C9.91301 0.944722 10.0485 0.617695 10.2896 0.376577C10.5307 0.135459 10.8577 0 11.1987 0H15.7793C16.1203 0 16.4473 0.135459 16.6884 0.376577C16.9296 0.617695 17.065 0.944722 17.065 1.28571V5.868C17.065 6.20899 16.9296 6.53602 16.6884 6.77714C16.4473 7.01826 16.1203 7.15371 15.7793 7.15371C15.4383 7.15371 15.1113 7.01826 14.8702 6.77714C14.629 6.53602 14.4936 6.20899 14.4936 5.868V4.38857L12.1107 6.77143C12.7157 7.6754 13.0883 8.71471 13.1955 9.79718C13.3026 10.8797 13.1409 11.9718 12.7248 12.9769C12.3087 13.9819 11.651 14.8687 10.81 15.5586C9.96905 16.2485 8.97083 16.7203 7.90387 16.932V18.3257H9.6713C10.0123 18.3257 10.3393 18.4612 10.5804 18.7023C10.8216 18.9434 10.957 19.2704 10.957 19.6114C10.957 19.9524 10.8216 20.2794 10.5804 20.5206C10.3393 20.7617 10.0123 20.8971 9.6713 20.8971H7.90387V22.6663C7.90387 23.0073 7.76841 23.3343 7.52729 23.5754C7.28618 23.8165 6.95915 23.952 6.61816 23.952C6.27716 23.952 5.95014 23.8165 5.70902 23.5754C5.4679 23.3343 5.33244 23.0073 5.33244 22.6663V20.8971H3.56159C3.39274 20.8971 3.22555 20.8639 3.06956 20.7993C2.91357 20.7347 2.77184 20.64 2.65245 20.5206C2.53306 20.4012 2.43835 20.2594 2.37374 20.1035C2.30913 19.9475 2.27587 19.7803 2.27587 19.6114C2.27587 19.4426 2.30913 19.2754 2.37374 19.1194C2.43835 18.9634 2.53306 18.8217 2.65245 18.7023C2.77184 18.5829 2.91357 18.4882 3.06956 18.4236C3.22555 18.359 3.39274 18.3257 3.56159 18.3257H5.33073V16.9303C4.37109 16.7409 3.46542 16.341 2.67906 15.7593C1.89269 15.1776 1.24522 14.4286 0.783352 13.5664C0.32148 12.7041 0.0567148 11.7501 0.0081524 10.7732C-0.04041 9.79627 0.128441 8.82073 0.502526 7.91695C0.876612 7.01317 1.44661 6.20367 2.17141 5.54684C2.89621 4.89 3.75774 4.40221 4.69387 4.11863C5.63001 3.83506 6.61741 3.76277 7.58486 3.90698C8.55232 4.05119 9.47571 4.4083 10.2884 4.95257L12.6713 2.56971H11.197C10.856 2.56971 10.529 2.43426 10.2879 2.19314C10.0468 1.95202 9.9113 1.62499 9.9113 1.284Z'
			fill='#FE6BE4'
		/>
	</Svg>
)
export const GenderDropdown = ({
	value,
	onSelect,
}: {
	value: string | null
	onSelect: (v: string) => void
}) => {
	const options = [
		{
			key: 'Male',
			label: 'Male',
			icon: <MaleIcon />,
			color: '#5F22D9',
		},
		{
			key: 'Female',
			label: 'Female',
			icon: <FemaleIcon />,
			color: '#F9467D',
		},
		{
			key: 'Not to prefer',
			label: 'Prefer not to mention',
			icon: <PreferIcon />,
			color: '#FE6BE4',
		},
	]

	return (
		<View style={styles.dropdown}>
			<Text style={styles.dropdownTitle}>Select your gender</Text>
			{options.map(item => (
				<Pressable
					key={item.key}
					onPress={() => onSelect(item.key)}
					style={styles.optionRow}
				>
					<View style={styles.optionLeft}>
						{item.icon}
						<Text style={styles.optionText}>{item.label}</Text>
					</View>

					<Radio checked={value === item.key} color={item.color} />
				</Pressable>
			))}
		</View>
	)
}

const styles = StyleSheet.create({
	dropdown: {
		position: 'absolute',
		bottom: 0,
		left: 0,
		right: 0,
		backgroundColor: '#fff',
		padding: 25,
		gap: 12,
	},

	dropdownTitle: {
		fontFamily: '',
		fontSize: 16,
		fontWeight: '600',
		color: '#000',
		marginBottom: 12,
	},

	optionRow: {
		flexDirection: 'row',
		alignItems: 'center',
		justifyContent: 'space-between',
		padding: 10,
		borderRadius: 8,
	},

	optionLeft: {
		flexDirection: 'row',
		alignItems: 'center',
		gap: 6,
	},

	optionText: {
		fontFamily: '',
		fontSize: 16,
		fontWeight: '500',
		color: '#000',
	},

	radio: {
		width: 20,
		height: 20,
		borderRadius: 10,
		borderWidth: 2,
		borderColor: '#DDDDDD',
		alignItems: 'center',
		justifyContent: 'center',
	},

	radioInner: {
		width: 10,
		height: 10,
		borderRadius: 5,
		backgroundColor: '#5F22D9',
	},
})
